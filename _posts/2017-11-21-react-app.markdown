---
layout: post
title: "Creating Production-Ready React and Redux Apps"
description: "Let's create a React and Redux application that is production-ready. We will rely on best-practices and address security from the beginning to achieve this."
date: 2017-11-21 09:48
category: Technical Guide, React
author:
  name: "Bruno Krebs"
  url: "https://twitter.com/brunoskrebs"
  mail: "bruno.krebs@auth0.com"
  avatar: "https://www.gravatar.com/avatar/76ea40cbf67675babe924eecf167b9b8?s=60"
design:
  bg_color: "#1B1C20"
  image: https://cdn.auth0.com/blog/spring5-embedded/logo-spring-tomcat-gradle.png
tags:
- react
- redux
- eslint
- editorconfig
- javascript
- auth0
- real-world
related:
- 2017-08-10-implementing-jwt-authentication-on-spring-boot
---

**TL;DR:** In this article, we are going to start creating a production-ready React and Redux application. We will begin by installing basic tools and setting up a solid foundation to develop scalable Single Page Applications (SPAs). We will take into account best practices and configure development tools like ESLint and EditorConfig. We will also configure [Auth0 as the identity manager of our application](https://auth0.com/user-management) to support state-of-the-art features, like [Social Login](https://auth0.com/learn/social-login/) and [Multifactor Authentication](https://auth0.com/learn/multifactor-authentication/). We can find the code produced throughout this article in [this GitHub Pull Request](https://github.com/auth0-blog/real-world-react-redux/pull/1).

## Prerequisites

Before diving up into this article, it's important to note that there a few prerequisites. First and foremost, previous experience with JavaScript, HTML, and CSS is advisable. More than that, would be no harm at all (quite the opposite actually) to have at least some short experience with React. As the title states, we will also use Redux. However, [it is so simple to use this library](https://auth0.com/blog/redux-in-action) that no familiarity with it wouldn't be a problem.

Besides this short technical background, we will also need two programs installed on our development computer: Node.js and NPM. Instead of installing these tools directly, a good idea is to [use NVM (Node Version Manager)](https://github.com/creationix/nvm#installation) on development environments. Sometimes, we need to quickly switch between different versions of Node.js. NVM exists exactly for this reason.

## Why React and Redux

I'll be brief about this topic for _three_ reasons. One, both [React](https://github.com/facebook/react) and [Redux](https://github.com/reactjs/redux) are consolidated JavaScript libraries that are supported by huge, thriving communities. Second, there are many articles ([like this one](https://www.madetech.com/blog/the-pros-and-cons-of-react-plus-redux)) that talks about the advantages and disadvantages of using them. Third, the idea is to focus on creating production-ready applications with React and Redux rather than discussing pros and cons.

Nevertheless, a few words about both libraries sounds like a good idea. Let's begin with React. [React, originally developed by Jordan Walke and Denis Popov, was released on March 2013](https://en.wikipedia.org/wiki/React_\(JavaScript_library\)#History). Its main goal is to provide developers a platform where they can express applications through composable components. Usually, developers rely on the [JSX pseudo-language, preprocessor](https://reactjs.org/docs/jsx-in-depth.html) to create these components.

Redux is a predictable state container that helps developers managing data in JavaScript applications. This library is based on simple, easy to learn concepts and techniques. Basically, there is a central _storage facility_ that is only updated through `actions` dispatched to `reducers`. [Check out this practical tutorial to learn Redux through simple examples](https://auth0.com/blog/redux-in-action).

## A Word About IDEs

Before moving onto the practical sections of this article, let's talk about IDEs (Integrated Development Environments). Professionals that create reliable applications, frequently equip themselves with tools that help them avoid mistakes. On program errors that will eventually occur, these tools must enable developers to fight and debug these errors. With this in mind, and considering that [only Visual Studio Code and WebStorm](https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#debugging-in-the-editor) are capable of connecting to browsers to debug React apps, it is highly advised to choose one of these IDEs.

After choosing and installing a IDE, please, refer to [this document to properly tie up debugging in this editor](https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#debugging-in-the-editor). It is a valuable asset.

As it's possible to see in the following screenshot, this feature works perfectly on WebStorm.

![Debugging React and Redux applications on WebStorm](https://cdn.auth0.com/blog/react-redux-app/debugging-with-webstorm.png)

## Creating the Project Structure

The first step to create our project is to install the [`create-react-app` tool provided by Facebook](https://github.com/facebookincubator/create-react-app/). Installing it is simple. We just have to use NPM, as shown in the next code snippet. After that, by just issuing one more command, we can make `create-react-app` generate our app skeleton:

```bash
# install create-react-app globally
npm install -g create-react-app

# use it to bootstrap a react project
create-react-app personal-finance

# move current directory into our new project
cd personal-finance
```

Inside this new directory, we will find the initial project structure and all the transitive dependencies installed:

```bash
personal-finance
├── README.md
├── node_modules
├── package.json
├── .gitignore
├── public
│   └── favicon.ico
│   └── index.html
│   └── manifest.json
└── src
    └── App.css
    └── App.js
    └── App.test.js
    └── index.css
    └── index.js
    └── logo.svg
    └── registerServiceWorker.js
```

Although the provided structure contains everything we need to start creating our app, we will first address two important topics. More specifically, we will address EditorConfig and ESLint to get an environment that help us keep our code consistent and free of errors.

### Keeping Code Style Consistent with EditorConfig

More often than not, more than one developer will support and submit updates to a particular React application. When this time comes, it will be nice to have some mechanism that helps keeping the code style consistent throughout the multiple files and commits. This is exactly the goal of [EditorConfig](http://editorconfig.org/). Only by creating a single file with a small number of properties, we can help developers to be more productive by not thinking too much about code styling. We delegate this responsibility to the IDE through a plugin. Fortunately, [both Visual Studio Code and WebStorm](http://editorconfig.org/#download) already ship with these plugins pre-installed.

In our application, we will copy the contents of the `.editorconfig` file available on [Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript#airbnb-javascript-style-guide-). This is a great resource when it comes to best practices as these style guides are heavily used by the community.

In the root directory of our app, let's create a new file called `.editorconfig` and add to it the following properties:

```editorconfig
root = true

[*]
indent_style = space
indent_size = 2
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true
end_of_line = lf
# editorconfig-tools is unable to ignore longs strings or urls
max_line_length = null
```

That's it. We don't need anything else if we are using Visual Studio Code or WebStorm.

### ESLint

Another very important tool that we will add to our workflow is [ESLint](https://eslint.org/). Working as code quality tool, ESLint will analyze our code to check for common mistakes that can introduce bugs. For example, if we had a function that concatenates a person's name to an address and we mistyped a variable name, ESLint would generate a warning.

![ESLint integrated into WebStorm in a React and Redux web application.](https://cdn.auth0.com/blog/react-redux-app/eslint-integration.png)

We won't get into too much details about how it works or how we could customize ESLint. The idea is to be practical, but keep in mind that [this tool is highly customizable](https://eslint.org/docs/user-guide/getting-started).

In our project, we will simply create a file called `.eslintrc` with a single configuration property. React already uses ESLint in its build process. However, to integrate the IDE with ESLint, we need to define this file. Having a terminal in our root directory, we can create and populate this file with the following commands:

```bash
# create the file
touch .eslintrc

# add configuration
echo '{
  "extends": "react-app"
}' > .eslintrc
```

After that, we need to activate the ESLint integration in our IDE. Fortunately, this process is simple and both [WebStorm](https://www.jetbrains.com/help/webstorm/eslint.html) and [Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint) provide documentation on how to perform it. Let's use these references as they will be kept up to date.

## Developing the React Application

- [remove `logo.svg`, and clean up `App.js` (keep App.css)](https://github.com/auth0-blog/real-world-react-redux/pull/1/commits/40d64729f23c7e9bb4e8f64eb5e337bcfdb30378)
- [replace App.css](https://github.com/auth0-blog/real-world-react-redux/pull/1/commits/7d9b0d3269039252fb0cd785770ea1327a3563be)
- [add Roboto and Material icons by editing `index.html` and index.css](https://github.com/auth0-blog/real-world-react-redux/pull/1/commits/aeb37807d6ea9190a9765419034becd61362db8c)
- [make body and #root 100% height](https://github.com/auth0-blog/real-world-react-redux/pull/1/commits/1270f785e71cd8bbf58b240a8e15069e31be5364)

### Adding Identity Management with Auth0

- Create new client: `{name: 'Dimerz Dev', type: 'SPA'}`
- Configure callback: `http://localhost:3000/callback`
- install `auth0-js`: `npm install --save auth0-js`
- create an `Auth` service at `src/Auth/Auth.js` with:

```javascript
import auth0 from 'auth0-js';

export default class Auth {
  auth0 = new auth0.WebAuth({
    domain: 'bkrebs.auth0.com',
    clientID: '3qu4Cxt4h2x9Em7Cj0s7Zg5FxhQLjiiK',
    redirectUri: 'http://localhost:3000/callback',
    audience: 'https://bkrebs.auth0.com/userinfo',
    responseType: 'token id_token',
    scope: 'openid'
  });

  login() {
    this.auth0.authorize();
  }
}
```
